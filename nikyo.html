<!DOCTYPE html>
<html lang="es">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>AKI</title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous" />
        <link href="style.css" rel="stylesheet" />
    </head>
    <body>
        <nav class="navbar navbar-expand-md navbar-light fixed-top">
            <div class="container">
                <a class="navbar-brand fs-2" href="index.html">
                    AKI
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" class="bi bi-5-circle-fill ms-2 mb-2" viewBox="0 0 16 16"><path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0Zm-8.006 4.158c1.74 0 2.924-1.119 2.924-2.806 0-1.641-1.178-2.584-2.56-2.584-.897 0-1.442.421-1.612.68h-.064l.193-2.344h3.621V4.002H5.791L5.445 8.63h1.149c.193-.358.668-.809 1.435-.809.85 0 1.582.604 1.582 1.57 0 1.085-.779 1.682-1.57 1.682-.697 0-1.389-.31-1.53-1.031H5.276c.065 1.213 1.149 2.115 2.72 2.115Z"/>
                    </svg>
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" class="bi bi-4-circle-fill mb-2" viewBox="0 0 16 16"><path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0ZM7.519 5.057c-.886 1.418-1.772 2.838-2.542 4.265v1.12H8.85V12h1.26v-1.559h1.007V9.334H10.11V4.002H8.176c-.218.352-.438.703-.657 1.055ZM6.225 9.281v.053H8.85V5.063h-.065c-.867 1.33-1.787 2.806-2.56 4.218Z"/>
                    </svg>
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" class="bi bi-3-circle-fill mb-2" viewBox="0 0 16 16"><path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0Zm-8.082.414c.92 0 1.535.54 1.541 1.318.012.791-.615 1.36-1.588 1.354-.861-.006-1.482-.469-1.54-1.066H5.104c.047 1.177 1.05 2.144 2.754 2.144 1.653 0 2.954-.937 2.93-2.396-.023-1.278-1.031-1.846-1.734-1.916v-.07c.597-.1 1.505-.739 1.482-1.876-.03-1.177-1.043-2.074-2.637-2.062-1.675.006-2.59.984-2.625 2.12h1.248c.036-.556.557-1.054 1.348-1.054.785 0 1.348.486 1.348 1.195.006.715-.563 1.237-1.342 1.237h-.838v1.072h.879Z"/>
                    </svg>
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" class="bi bi-2-circle-fill mb-2" viewBox="0 0 16 16"><path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0ZM6.646 6.24c0-.691.493-1.306 1.336-1.306.756 0 1.313.492 1.313 1.236 0 .697-.469 1.23-.902 1.705l-2.971 3.293V12h5.344v-1.107H7.268v-.077l1.974-2.22.096-.107c.688-.763 1.287-1.428 1.287-2.43 0-1.266-1.031-2.215-2.613-2.215-1.758 0-2.637 1.19-2.637 2.402v.065h1.271v-.07Z"/>
                    </svg>
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" class="bi bi-1-circle-fill mb-2" viewBox="0 0 16 16"><path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0ZM9.283 4.002H7.971L6.072 5.385v1.271l1.834-1.318h.065V12h1.312V4.002Z" /></svg>
                </a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarCollapse">
                    <ul class="navbar-nav ms-auto mb-2 mb-md-0">
                        <li class="nav-item">
                            <a class="nav-link lh-1" href="buki.html"><small>buki waza</small><br />usando armas</a>
                        </li>
                        <li class="nav-item dropdown">
                            <a class="nav-link active dropdown-toggle lh-1" href="#" data-bs-toggle="dropdown" aria-expanded="false"><small style="font-variant: small-caps;">katame waza</small><br />inmovilizaciones</a>
                            <ul class="dropdown-menu">
                                <li class="dropdown-item"><a class="nav-link" href="index.html">Ikkyo</a></li>
                                <li class="dropdown-item"><a class="nav-link active" href="nikyo.html">Nikyo</a></li>
                                <li class="dropdown-item"><a class="nav-link" href="sankyo.html">Sankyo</a></li>
                                <li class="dropdown-item"><a class="nav-link" href="yonkyo.html">Yonkyo</a></li>
                                <li class="dropdown-item"><a class="nav-link" href="gokyo.html">Gokyo</a></li>
                            </ul>
                        </li>
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle lh-1" href="#" data-bs-toggle="dropdown" aria-expanded="false"><small>nage waza</small><br />proyecciones</a>
                            <ul class="dropdown-menu">
                                <li class="dropdown-item"><a class="nav-link" href="irimi-nage.html">Irimi nage</a></li>
                                <li class="dropdown-item"><a class="nav-link" href="kaiten-nage.html">Kaiten nage</a></li>
                                <li class="dropdown-item"><a class="nav-link" href="kokyu-nage.html">Kokyu nage</a></li>
                                <li class="dropdown-item"><a class="nav-link" href="kote-gaeshi.html">Kote gaeshi</a></li>
                                <li class="dropdown-item"><a class="nav-link" href="shiho-nage.html">Shiho nage</a></li>
                                <li class="dropdown-item"><a class="nav-link" href="tenchi-nage.html">Tenchi nage</a></li>
                            </ul>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
        <main class="container mt-5 mb-2">
            <div class="row">
                <div class="col-12">
                    <h2 class="my-5 display-5">Nikyo (二教)</h2>
                </div>
            </div>
            <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 pb-5" id="aqui"></div>
        </main>
        <footer class="container">
            <div class="row">
                <div class="col"><a href="fuentes.html" class="small link-secondary">Fuentes</a></div>
            </div>
        </footer>        <!--La biblioteca JS de Bootstrap-->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.4.1/papaparse.min.js" integrity="sha512-dfX5uYVXzyU8+KHqj8bjo7UkOdg18PaOtpa48djpNbZHwExddghZ+ZmzWT06R5v6NSk3ZUfsH6FNEDepLx9hPQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
        <script>
            var datos;
            var resultado;
            var seleccion = [];
            const tecnicas = document.querySelector("#aqui");
            Papa.parse("https://raw.githubusercontent.com/profesorfaco/aki/main/data.csv", {
                download: true,
                header: true,
                dynamicTyping: true,
                complete: function (results) {
                    datos = results.data;
                    console.log(datos);
                    datos.forEach(t=>{
                        if(t.taijutsu.includes("nikyo")){
                            seleccion.push(t);
                        }
                    })
                    console.log(seleccion);
                    seleccion.forEach(s=>{
                        if (s.kyu == 5) {
                            tecnicas.innerHTML += `<article class="col mb-3"><div class="card border-0 shadow-sm fondo-5"><div class="card-body"><p class="small m-0 p-0 text-uppercase texto-5">● ${s.waza}</p><h3 class="fs-4">${s.taijutsu}</h3>${respuesta(s)}</details></div></div></article>`;
                        } else if (s.kyu == 4) {
                            tecnicas.innerHTML += `<article class="col mb-3"><div class="card border-0 shadow-sm fondo-4"><div class="card-body"><p class="small m-0 p-0 text-uppercase texto-4">● ${s.waza}</p><h3 class="fs-4">${s.taijutsu}</h3>${respuesta(s)}</details></div></div></article>`;
                        } else if (s.kyu == 3) {
                            tecnicas.innerHTML += `<article class="col mb-3"><div class="card border-0 shadow-sm fondo-3"><div class="card-body"><p class="small m-0 p-0 text-uppercase texto-3">● ${s.waza}</p><h3 class="fs-4">${s.taijutsu}</h3>${respuesta(s)}</details></div></div></article>`;
                        } else if (s.kyu == 2) {
                            tecnicas.innerHTML += `<article class="col mb-3"><div class="card border-0 shadow-sm fondo-2"><div class="card-body"><p class="small m-0 p-0 text-uppercase texto-2">● ${s.waza}</p><h3 class="fs-4">${s.taijutsu}</h3>${respuesta(s)}</details></div></div></article>`;
                        } else {
                            tecnicas.innerHTML += `<article class="col mb-3"><div class="card border-0 shadow-sm fondo-1"><div class="card-body"><p class="small m-0 p-0 text-uppercase">${s.waza}</p><h3 class="fs-4">${s.taijutsu}</h3>${respuesta(s)}</details></div></div></article>`;
                        }
                    })
                }

            });

            function respuesta(x){
                if(x.embeded != null){ 
                    resultado = x.embeded;
                } else {
                    if(x.disco_tissier != null) {
                        resultado = `<a href="${x.disco_tissier}" target="_blank">Según Tissier</a>`;
                    } else if(x.otro != null) {
                        resultado = `<a href="${x.otro}" target="_blank">Según otro video</a>`;
                    } else {
                        resultado = `<span>Lo siento. No tengo video de referencia.</span>`;                        
                    }
                } 
                return resultado;
            }
        </script>
    </body>
</html>